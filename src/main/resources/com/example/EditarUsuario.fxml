<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.geometry.Insets?>

<AnchorPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.example.EditarUsuarioController"
            stylesheets="@css/modal.css"
            styleClass="modal-root"
            prefWidth="600" prefHeight="700">

    <!-- SCROLLPANE -->
    <ScrollPane fitToWidth="true"
                vbarPolicy="AS_NEEDED"
                hbarPolicy="NEVER"
                AnchorPane.topAnchor="0"
                AnchorPane.leftAnchor="0"
                AnchorPane.rightAnchor="0"
                AnchorPane.bottomAnchor="0">

        <VBox spacing="20"
              alignment="TOP_CENTER"
              styleClass="modal-container">

            <padding>
                <Insets top="20" right="20" bottom="20" left="20"/>
            </padding>

            <!-- TÃTULO DO MODAL -->
            <Label fx:id="lblTitulo" text="âœï¸ Editar UsuÃ¡rio" styleClass="modal-title"/>

            <!-- MENSAGEM DE ERRO -->
            <Label fx:id="lblErro" styleClass="error-label" wrapText="true"/>

            <!-- FORMULÃRIO -->
            <VBox spacing="15" styleClass="form-wrapper">

                <Separator/>

                <!-- Nome -->
                <VBox spacing="5" styleClass="field-group">
                    <Label text="Nome Completo *" styleClass="field-label"/>
                    <TextField fx:id="txtNome" promptText="Digite o nome completo" styleClass="input-field"/>
                </VBox>

                <!-- Email -->
                <VBox spacing="5" styleClass="field-group">
                    <Label text="Email *" styleClass="field-label"/>
                    <TextField fx:id="txtEmail" promptText="exemplo@empresa.com" styleClass="input-field"/>
                </VBox>

                <!-- Telefone -->
                <VBox spacing="5" styleClass="field-group">
                    <Label text="Telefone" styleClass="field-label"/>
                    <TextField fx:id="txtTelefone" promptText="(00) 00000-0000" styleClass="input-field"/>
                </VBox>

                <!-- Ativo -->
                <VBox spacing="5" styleClass="field-group">
                    <CheckBox fx:id="chkAtivo" text="Ativo" selected="true"/>
                </VBox>

                <!-- ObservaÃ§Ãµes -->
                <VBox spacing="5" styleClass="field-group">
                    <Label text="ObservaÃ§Ãµes" styleClass="field-label"/>
                    <TextArea fx:id="txtObservacoes" promptText="Notas adicionais..." prefRowCount="2" styleClass="input-field"/>
                </VBox>

                <!-- ==================== CAMPOS ADMINISTRADOR ==================== -->

                <VBox fx:id="camposAdministrador" spacing="15" managed="false" visible="false">
                    <Separator style="-fx-background-color: #3b82f6;"/>
                    
                    <Label text="ðŸ‘¤ Dados do Administrador" style="-fx-font-weight: bold; -fx-font-size: 13px; -fx-text-fill: #3b82f6;"/>

                    <!-- Username -->
                    <VBox spacing="5" styleClass="field-group">
                        <Label text="Username *" styleClass="field-label"/>
                        <TextField fx:id="txtUsername" promptText="Nome de usuÃ¡rio para login" styleClass="input-field"/>
                    </VBox>

                    <!-- Alterar Senha -->
                    <VBox spacing="5" styleClass="field-group">
                        <CheckBox fx:id="chkAlterarSenha" text="ðŸ” Alterar Senha"/>
                    </VBox>

                    <!-- Senha -->
                    <VBox spacing="5" styleClass="field-group">
                        <Label text="Nova Senha" styleClass="field-label"/>
                        <PasswordField fx:id="txtSenha" promptText="Deixe em branco para nÃ£o alterar" styleClass="input-field"/>
                    </VBox>
                </VBox>

                <!-- ==================== CAMPOS FUNCIONÃRIO ==================== -->

                <VBox fx:id="camposFuncionario" spacing="15" managed="false" visible="false">
                    <Separator style="-fx-background-color: #10b981;"/>
                    
                    <Label text="ðŸ’¼ Dados do FuncionÃ¡rio" style="-fx-font-weight: bold; -fx-font-size: 13px; -fx-text-fill: #10b981;"/>

                    <!-- Username -->
                    <VBox spacing="5" styleClass="field-group">
                        <Label text="Username *" styleClass="field-label"/>
                        <TextField fx:id="txtUsernameFuncionario" promptText="Nome de usuÃ¡rio para login" styleClass="input-field"/>
                    </VBox>

                    <!-- Alterar Senha -->
                    <VBox spacing="5" styleClass="field-group">
                        <CheckBox fx:id="chkAlterarSenhaFuncionario" text="ðŸ” Alterar Senha"/>
                    </VBox>

                    <!-- Senha -->
                    <VBox spacing="5" styleClass="field-group">
                        <Label text="Nova Senha" styleClass="field-label"/>
                        <PasswordField fx:id="txtSenhaFuncionario" promptText="Deixe em branco para nÃ£o alterar" styleClass="input-field"/>
                    </VBox>

                    <!-- CPF -->
                    <VBox spacing="5" styleClass="field-group">
                        <Label text="CPF *" styleClass="field-label"/>
                        <TextField fx:id="txtCpf" promptText="000.000.000-00" styleClass="input-field"/>
                    </VBox>

                    <!-- Data de ContrataÃ§Ã£o -->
                    <VBox spacing="5" styleClass="field-group">
                        <Label text="Data de ContrataÃ§Ã£o *" styleClass="field-label"/>
                        <DatePicker fx:id="dpDataContratacao" promptText="Selecione a data" styleClass="input-field" prefWidth="Infinity" maxWidth="Infinity"/>
                    </VBox>

                    <!-- Cargo -->
                    <VBox spacing="5" styleClass="field-group">
                        <Label text="Cargo" styleClass="field-label"/>
                        <TextField fx:id="txtCargo" promptText="Ex: Cabeleireiro, Barbeiro, Manicure" styleClass="input-field"/>
                    </VBox>

                    <!-- Especialidades -->
                    <VBox spacing="5" styleClass="field-group">
                        <Label text="Especialidades" styleClass="field-label"/>
                        <TextField fx:id="txtEspecialidades" promptText="Ex: Corte, ColoraÃ§Ã£o, Barba" styleClass="input-field"/>
                    </VBox>

                    <!-- NÃ­vel de ExperiÃªncia -->
                    <VBox spacing="5" styleClass="field-group">
                        <Label text="NÃ­vel de ExperiÃªncia" styleClass="field-label"/>
                        <ComboBox fx:id="cmbNivelExperiencia" promptText="Selecione o nÃ­vel" styleClass="input-field" prefWidth="Infinity" maxWidth="Infinity"/>
                    </VBox>

                    <!-- Grid de 2 colunas: SalÃ¡rio e ComissÃ£o -->
                    <HBox spacing="10">
                        <VBox spacing="5" styleClass="field-group" HBox.hgrow="ALWAYS">
                            <Label text="SalÃ¡rio Base (R$)" styleClass="field-label"/>
                            <TextField fx:id="txtSalarioBase" promptText="0.00" styleClass="input-field"/>
                        </VBox>

                        <VBox spacing="5" styleClass="field-group" HBox.hgrow="ALWAYS">
                            <Label text="ComissÃ£o (0-1)" styleClass="field-label"/>
                            <TextField fx:id="txtComissao" promptText="0.30 = 30%" styleClass="input-field"/>
                        </VBox>
                    </HBox>

                    <!-- HorÃ¡rio de Trabalho -->
                    <VBox spacing="5" styleClass="field-group">
                        <Label text="HorÃ¡rio de Trabalho" styleClass="field-label"/>
                        <TextField fx:id="txtHorarioTrabalho" promptText="Ex: 08:00-18:00" styleClass="input-field"/>
                    </VBox>

                    <!-- Tipo de Cliente Preferido -->
                    <VBox spacing="5" styleClass="field-group">
                        <Label text="Tipo de Cliente Preferido" styleClass="field-label"/>
                        <ComboBox fx:id="cmbTipoClientePreferido" promptText="Selecione" styleClass="input-field" prefWidth="Infinity" maxWidth="Infinity"/>
                    </VBox>

                    <!-- Pode realizar tratamentos quÃ­micos -->
                    <VBox spacing="5" styleClass="field-group">
                        <CheckBox fx:id="chkQuimicos" text="Pode realizar tratamentos quÃ­micos"/>
                    </VBox>
                </VBox>

            </VBox>

            <!-- BOTÃ•ES -->
            <HBox spacing="20" alignment="CENTER_RIGHT" styleClass="modal-buttons">
                <Button text="Cancelar" styleClass="btn-cancelar" onAction="#fecharModal"/>
                <Button text="Salvar AlteraÃ§Ãµes" styleClass="btn-salvar" onAction="#salvar"/>
            </HBox>

        </VBox>

    </ScrollPane>

</AnchorPane>
